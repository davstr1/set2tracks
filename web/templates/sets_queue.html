{% extends "base.html" %}

{% block content %}

<div class="flex justify-end  items-start p-4">
  <a href="{{url_for('set.add')}}" class="btn btn-primary">
    {{_("Add a set")}}
  </a>
</div>


<div class="container mx-auto py-8">
  <div class="flex justify-center">
    <div class="w-full max-w-5xl">
      {% if my_sets %}
      <h2 class="text-2xl">My Sets</h2>
      <table class="min-w-full divide-y divide-gray-200">
        <thead>
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Video</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {% for set in my_sets %}
          <tr>
            <td class="px-6 py-4 whitespace-nowrap">{{ loop.index }}</td>
            <td class="px-6 py-4 whitespace-nowrap">
              <a target="_blank" href="https://www.youtube.com/watch?v={{set.video_info_json.video_id}}" class="flex items-center space-x-4">
                <div class="flex-shrink-0">
                  <img src="{{set.video_info_json.thumbnail}}" alt="" class="w-32 h-auto">
                </div>
                <div>
                  <p class="text-sm font-semibold truncate max-w-xs">{{set.video_info_json.title}}</p>
                </div>
              </a>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <p class="text-sm">{{set.status}}</p>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <p class="text-sm text-center">Nothing in queue.</p>
      {% endif %}
      {% if sets %}
      <h2 class="text-2xl">All Sets</h2>
      <table class="min-w-full divide-y divide-gray-200">
        <thead>
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Video</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {% for set in sets %}
          <tr>
            <td class="px-6 py-4 whitespace-nowrap">{{ loop.index }}</td>
            <td class="px-6 py-4 whitespace-nowrap">
              <a target="_blank" href="https://www.youtube.com/watch?v={{set.video_info_json.video_id}}" class="flex items-center space-x-4">
                <div class="flex-shrink-0">
                  <img src="{{set.video_info_json.thumbnail}}" alt="" class="w-32 h-auto">
                </div>
                <div>
                  <p class="text-sm font-semibold truncate max-w-xs">{{set.video_info_json.title}}</p>
                </div>
              </a>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              <p class="text-sm">{{set.status}}</p>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <p class="text-sm text-center">Nothing in queue.</p>
      {% endif %}
    </div>
  </div>
</div>



{% endblock %}